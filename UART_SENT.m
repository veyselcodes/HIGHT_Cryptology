close all;clear;clc;% Constantslinenumber = 10;x= 1;%File Operationss= serial('COM4','BaudRate',115200,'FlowControl', 'none','Terminator','CR');set(s,'parity','none');set(s,'databit',8);set(s,'stopbit',2);set(s,'timeout',8);fopen(s);fileID = fopen('verif/UART_Results.txt','w+');fileMKPT = fopen('verif/Random_Plain_and_Master_Texts.txt','r');formatSpec = '%s';A = fscanf(fileMKPT,formatSpec);fileRes = fopen('verif/VHDL_Results.txt','r');B = fscanf(fileRes,formatSpec);fclose(fileMKPT);% Send and Receive informationsfor m =0:(linenumber-1)    for k=1:24           PT(k,1) = A(48*m+2*(k-1)+1);           PT(k,2) = A(48*m+2*(k-1)+2);    end    PT;        for p=1:8       VHDL_Cipher(p,1) = B(16*m+2*(p-1)+1);       VHDL_Cipher(p,2) = B(16*m+2*(p-1)+2);    end        while(1)        txdata_dec = hex2dec(PT);        fwrite(s,txdata_dec,'uint8');        deg = fread(s,[9,2],'uint8');        res = dec2hex(deg);        cnt = 1;        if(isempty(deg)==0)            for i=2:9                for j=1:2                    Answer(1,cnt) = res(i,j);                    Template(i-1,j) = res(i,j);                    cnt = cnt+1;                end            end            if (isequal(Template,VHDL_Cipher) == 1)                fprintf(fileID,'%s',Answer);                fprintf(fileID,'\n');                deg = [];                fprintf('%d . process is done.\n',x)                x= x+1;                break            end        end    end    end% Close all filesfclose(fileRes);fclose(s);fclose(fileID);delete(s) clear s 